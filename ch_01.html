<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ¿</text></svg>" rel="icon">
    <!-- KATEX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
            onload="renderMathInElement(document.body);">
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          // customised options
          // â€¢ auto-render specific keys, e.g.:
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          // â€¢ rendering keys, e.g.:
          throwOnError : false
        });
      });
    </script>
    <!-- KATEX -->
    <title>locus communis</title>
    <style>
        body {
            background-color: #333;
            color: #eee;
            font-family: monospace;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            margin-bottom: 60px;
            text-align: center;
        }

        header h1 {
            font-size: 2.8em; /* Default larger size for desktop */
            margin: 0; /* Reset default margins for better control */
        }

        /* Media query for screens with a maximum width of 768px (typical for tablets and phones) */
        @media screen and (max-width: 768px) {
            header h1 {
                font-size: 1.8em; /* Smaller size for mobile */
            }
        }

        /* You can add more media queries for even smaller screens if needed */
        @media screen and (max-width: 480px) {
            header h1 {
                font-size: 1.4em; /* Even smaller size for smaller phones */
            }
        }

        .social-links {
            margin-top: 15px;
            text-align: center;
        }

        .social-links a {
            margin: 0 10px;
            color: #a7b3d6;
            text-decoration: none;
        }

        .social-links a:hover {
            text-decoration: underline;
        }

        div {
            max-width: 80ch;
            /*min-width: 80ch;
            text-align: left;*/
            display: flex;
            flex-direction: column;
        }

        footer {
            margin-top: 20px;
            font-size: 0.8em;
            text-align: center;
        }


        a {
            color: #98a8d8; /* A soft blue for default links */
            text-decoration: none; /* Optional: Removes the default underline */
        }

        a:visited {
            color: #98a8d8; /* A light, desaturated blue-gray for visited links */
        }

        a:hover {
            text-decoration: underline;
        }

        .katex {
            font-size: 0.8em; /* Adjust this value as needed */
        }
    </style>
  </head>
  <body>
    <h1>We are (not) wrong about databases <span class="language-math">[1/10]</span></h1>

    <p>This is the first post of a series explaining in a fun and constructive manner a database from first principles using Category Theory without <em>abstract nonsense</em>. This means you will find fun and easy to code python examples. Let's begin!</p>
    <div>
      <h2>The \(\mathtt{Set}\) category</h2>

      <p>Categories are made of two ingredients: <em>objects</em> and <em>morphisms</em>. The easiest way to see it is "objects are the bricks and morphisms are the structure". We will add more formalism <strong>only if needed</strong>, because I don't want you to deal with al the <em>abstract nonsense</em> I had to deal with when I was in college.</p>

      <p>For us <strong>objects are sets</strong> and <strong>morphisms are functions</strong>.</p>

      <p>In order to be a category, morphisimns need to follow some rules.</p>

      <h3>Rules</h3>

      <p>For <code>Set</code> to be a category, its morphisms must satisfy these rules:</p>

      <h4><strong>1. Composition</strong></h4>

      <p>If you have two morphisms \( f: A \to B \) and \( g: B \to C \), you must be able to <em>compose</em> them into a new morphism \( g \circ f: A \to C \).<br />
        Example:</p>
      <ul>
        <li>\( f: A \to B \) with \( f(1) = 3, f(2) = 4 \).</li>
        <li>\( g: B \to C \) with \( g(3) = 5, g(4) = 6 \).</li>
        <li>Then \( g \circ f: A \to C \) gives \( (g \circ f)(1) = 5, (g \circ f)(2) = 6 \).</li>
      </ul>
      <h4><strong>2. Associativity</strong></h4>
      <p>Composing morphisms must be <em>associative</em>. That is:<br />
        \[
        h \circ (g \circ f) = (h \circ g) \circ f.
        \]</p>
      <p>Example:</p>
      <ul>
        <li>\( f: A \to B \), \( g: B \to C \), \( h: C \to D \).</li>
        <li>Both \( h \circ (g \circ f) \) and \( (h \circ g) \circ f \) send \( 1 \in A \) to \( h(g(f(1))) \).</li>
      </ul>
      <h4><strong>3. Identity Morphisms</strong></h4>
      <p>Every object \( A \) must have an <em>identity morphism</em> \( \text{id}_A: A \to A \) that acts like a <strong>do nothing</strong> function.</p>
      <ul>
        <li>For any \( f: A \to B \):<br />
          \[
          f \circ \text{id}_A = f \quad \text{and} \quad \text{id}_B \circ f = f.
          \]</li>
      </ul>
      <p>The identity function \( \text{id}_A \) maps every element to itself:</p>
      <ul>
        <li>\( \text{id}_A(1) = 1 \), \( \text{id}_A(2) = 2 \).</li>
      </ul>
      <h3><strong>Example</strong></h3>
      <p>Here's how you can represent the category theory example using Python code, where functions are represented as dictionaries and sets, well, <code>set()</code>. Let's define a small category with 2 sets</p>
      <p>\[ A = {1, 2}, B = {3, 4} \]</p>
      <p>and 3 morphisms (functions)</p>
      <p>\[ f: A \to B, g: B \to A, h: A \to B, id_A: A \to A, id_B: B \to B\]</p>
      <pre><code class="language-python"># We define the sets (objects)
A = {1, 2}
B = {3, 4}

# We define the morphisms (functions as dictionaries)

f = {1: 3, 2: 4}  # f: A â†’ B
g = {3: 1, 4: 2}  # g: B â†’ A
h = {1: 4, 2: 3}  # Another morphism h: A â†’ B

# and the identity morphisms

id_A = {1: 1, 2: 2}  # id_A: A â†’ A
id_B = {3: 3, 4: 4}  # id_B: B â†’ B

# Next, we define composition of morphisms

def compose(second, first):
    """Returns second âˆ˜ first (applies first, then second)"""
    return {x: second[first[x]] for x in first}

# And now, we can prove that this morphisms follows the rules...

# 1. Composition

g_after_f = compose(g, f)  # g âˆ˜ f
print("g âˆ˜ f =", g_after_f)  # Should be id_A: {1: 1, 2: 2}

f_after_g = compose(f, g)  # f âˆ˜ g
print("f âˆ˜ g =", f_after_g)  # Should be id_B: {3: 3, 4: 4}

# 2. Associativity: (h âˆ˜ g) âˆ˜ f vs h âˆ˜ (g âˆ˜ f)

left = compose(h, compose(g, f))
right = compose(compose(h, g), f)
print("(h âˆ˜ g) âˆ˜ f == h âˆ˜ (g âˆ˜ f):", left == right)  # Should be True

# 3. Identity

f_after_id_A = compose(f, id_A)
id_B_after_f = compose(id_B, f)
print("f âˆ˜ id_A == f:", f_after_id_A == f)  # Should be True
print("id_B âˆ˜ f == f:", id_B_after_f == f)  # Should be True</code>
      </pre>
      <p>So, we learned to build a category inside the category \(\mathtt{Set}\). You can check the link on wikipedia for additional details. In the next post, we will talk about <code>strings</code> as a category ( a.k.a <strong>free monoid</strong>), and we will learn how to convert one category into another using (functors).</p>
    </div>
    <div class="social-links">
      <p>Follow me on:
        <a href="https://x.com/jocerfranquiz" target="_blank">X.com</a> |
        <a href="https://www.linkedin.com/in/jocerfranquiz" target="_blank">LinkedIn</a></p>
    </div>
    <footer>
      <p>&copy; 2025 Jocer Franquiz</p>
      <p style="font-size: 1.8em">ðŸŒ¿</p>
    </footer>
  </body>
</html>
